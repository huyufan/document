# undo.log redo.log binlog

## undo.log (回滚日志) 是innodb存储引擎生成的日志，实现了事务中的原子性  主要用于事务回滚 和mvcc


## redo.log (重做地址) 是innodb存储引擎生成的日志,实现了事务的持久性 主要用于断电等故障恢复


## binlog(归档日志) 是server层生成的日志，主要用于数据备份 和主从复制

# 缓冲池 buffer pool 

## LRU 算法（最近最少使用）

### 预读失效

#### mysql 的预读机制。 程序都是有空间局部性的 靠近当前被访问数据的数据  在未来很大概率会被访问到，所以mysql在加载数据页时，会提前把它相邻的数据页一并加载进来，目的是为了减少磁盘IO 但是可能这些被提前加载进来的数据页，并没有被访问，相当于白做了，预读失败

### Buffer Pool 污染
#### 当一个sql语句扫描了大量的数据时，在buffer Pool 空间有限的情况下，可能会将buffer pool 里所以的页都替换出去，导致大量热数据被淘汰了 ，等这些热数据又被再次访问的时候，由于缓存未命中，就会产生大量的磁盘 IO，MySQL 性能就会急剧下降，这个过程被称为  Buffer Pool  污染

#### LRU 2个区域 old 区域 和 young 区域

#### 进入到young区域的缓存增加了一个停留在old区域的时间判断  innodb_old_blocks_time 控制 默认时1000ms

##### 如果后续的访问时间与第一次访问的时间 在某个时间间隔内 该缓存页就不会被从 old 区域移动到 young 区域的头部
##### 如果后续的访问时间与第一次访问的时间 不在某个时间间隔内，那么 该缓存页移动到 young 区域的头部