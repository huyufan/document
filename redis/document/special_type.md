# 特殊的数据类型，分别是 HyperLogLogs（基数统计）， Bitmaps (位图) 和 geospatial （地理位置)

## HyperLogLogs

- **什么是基数？** 举个例子，A = {1, 2, 3, 4, 5}， B = {3, 5, 6, 7, 9}；那么基数（不重复的元素）= 1, 2, 4, 6, 7, 9； （允许容错，即可以接受一定误差）

- 这个结构可以非常省内存的去统计各种计数，比如注册 IP 数、每日访问 IP 数、页面实时UV、在线用户数，共同好友数等。
- Redis 的 HyperLogLog 无论存储多少个元素，大小始终为 12 KB，它通过哈希算法来估算基数，适用于海量数据的去重计数。

| 命令 | 简述 | 使用 |
|-------|-------|-------|
| pfadd | 添加元素 | pdadd key a b c d e f g |
| pfcount | 统计元素的基数数量 | pfcount key |
| pfmerge  | 合并两个元素 | pfmerge key3 key2 key1|


## Bitmap （位存储）

### Bitmap 即位图数据结构，都是操作二进制位来进行记录，只有0 和 1 两个状态。

### redis 能存多少个值
- 由于 Redis 的 Bitmap 是基于字符串的，而 Redis 字符串的最大长度为 512 MB（即 512 * 1024 * 1024 字节），每个字节有 8 个比特 大概40亿左右

## geospatial (地理位置)
- 两地之间的距离, 方圆几里的人  


# Stream  类型